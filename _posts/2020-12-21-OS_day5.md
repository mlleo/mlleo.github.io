---
title: "[OS] Operating System Concepts CH 3-1"
categories: 
  - CS
last_modified_at: 2020-12-21 12:00:00
comments: true
use_math: true # MathJax On
---

#### Process
- An instance of program in execution
  - Program becomes process when executable file loaded into memory
- Program is passive entity stored on disk, process is active 
- One program can become several processes (consider multiple users executing the same program)
- Each process is identified using its process ID (PID)

#### From program to process
![process](https://user-images.githubusercontent.com/62474292/102807138-78f65e00-4401-11eb-81e0-43526539ace7.JPG)

- Each process has its own address space in memory 
- The program **code**, also called text section
  - A register called Program Counter(PC) points to the instruction that is currently executing
- **Data** section containing global variables
- **Stack** containing temporary data
  - Function parameters, return addresses, local variables
  - Pointed by Stack Pointer (SP) register
- **Heap** containing memory dynamically allocated during run time

#### Process State
![state](https://user-images.githubusercontent.com/62474292/102808347-8ca2c400-4403-11eb-99c8-466250490218.JPG)

As a process executes, it changes **state**
- new : The process is being created
- running : Instructions are being executed
- waiting : The process is waiting for some event to occur
- ready : The process is waiting to be assigned to a processor
- terminated : The process has finished execution






#### Operations in Processes
- Process creation
- Process termination
- Inter-process communication
- etc...

#### Process Creation
![hierarchy](https://user-images.githubusercontent.com/62474292/102809455-5cf4bb80-4405-11eb-9ab1-a6524819f344.JPG)

- A process (parent) can create another processes (children)
- Siblings are children with the same parent process
- Form a tree of processes
- Generally, process identified and managed via a process identiier (PID)
- Resource sharing options
  - Parent and children share all resources
  - Children share subset of parent's resources
  - Parent and child share no resources
- Execution options
  - Parent and children execute concurrently
  - Parent waits until children terminate
- fork()
  - Create a new process by cloning the current process (allocate memory)
  - Child duplicates the parent's address space
- exec()
  - System call used ater a fork() to replace the process' memory space with a new program
  - New process overwrite existed process (no more "existed process" exist)
![fork](https://user-images.githubusercontent.com/62474292/103104913-a34c5380-466d-11eb-9fc1-e639f81e4b0b.JPG)
![ex](https://user-images.githubusercontent.com/62474292/103105070-a72ca580-466e-11eb-8957-5de159a869ca.png)
![ex2](https://user-images.githubusercontent.com/62474292/103105069-a5fb7880-466e-11eb-84d8-350091f19174.JPG)
- CPU scheduler decides which one to execute first between parent and child

#### Process Termination
- Process executes last statement and then asks the operating system to delete it using the **exit()** system call
  - Returns status data from child to parent via **wait()**
  - Parent process wait until child process dead
  - Process' resources are deallocated by operating system
- Parent may terminate the execution of children processes using the **abort()** system call
  - When child has exceeded allocated resources
  - When the task assigned to child is no longer required
  - When the parent is exiting and the operating system does not allow a child to continue if its parent terminates (**cascading termination**)
- Parent process may wait for termination of a child process by using the **wait()** system call
  - The call returns status information and the pid o the terminated process
  - pid = wait(&status)
  - A process which is terminated but parents its parent has not called wait() yet becomes **zombie**
  - If parent terminated without calling wait(), process is **orphan** (child is still alive)
  - Zombie and orphan process cause memory waste problem
  

#### Multiprocess Architecture (Chrome Browser)
- Many web browsers ran as single process
  - If one web site casues trouble, entire browser can be crashed
- Google Chrome Browser is multiprocess with 3 different types of processes
  - Browser, Renderer, Plug-in
  - But, waste memory resource problem





