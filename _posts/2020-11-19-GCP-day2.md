---
title: "[GCP ML engineer certification Day2]"
categories: 
  - ML
last_modified_at: 2020-11-18 12:00:00
comments: true
use_math: true # MathJax On
---

Recommending Products using Cloud SQL and Spark

### Google Cloud Products
1. Cloud SQL - manged relational database
2. Cloud dataproc - managed environment on which you can run Apache Spark

### Why we migrate an on-premise application to Google Cloud platform?
1. to avoid the challenges that are associated with utilizing and tuning on-premise clusters.
2. when you move an on-premise application to Google Cloud, you're also moving from dedicated storage to off-cluster storage with Google Cloud Storage.

### The core pieces of a recommendation system
- data
- model
- infrastructure to train and serve recommendations to users

#### A core tenet of machine learning is to let the model learn for itself what the relationship is.

![query](https://user-images.githubusercontent.com/62474292/99483358-5c4dad00-29a1-11eb-83a9-ddc6782c081e.JPG)
- Hand-coded rules are hard to maintain. <br>
- Why can't we train a machine learning model to basically provide a ranking of these links? <br>
- That's exactly what Google itself did internally with a deep learning model called Rank Brain.

***Machine Learning = exmaples, not rules***

### Concept of Recommendation System
![recommendation](https://user-images.githubusercontent.com/62474292/99637235-e2dcba00-2a87-11eb-898b-9d14eaa76379.JPG)
1. ingest the ratings of all the houses that have already been done by our users when we showed them specific houses.
  - explicit ratings : showed the house to the user in the past and they've clicked four stars after seeing the house details.
  - implicit ratings : user spent a lot of time looking at the website corresponding to this property.
2. Training
3. pick the top five rated houses that they haven't already seen.

### How the recommendation models work
The model is based on two things.
- based on your other ratings, what have you rated other houses.
- based on other people's rating of this particular house. <br>
This idea of using user ratings of a particular house and users like you helps convey the basic premise of how recommendation models work.

### Things that you have to consider
- how to find the users who are most like you
- how many users to consider
- how to weight the different factos such as the overall popularity of the items you have in common <br>

This can be done by seeing what parameters help predict if you intentionally withheld ratings best. 

### Things that machine learning model consider
![cluster](https://user-images.githubusercontent.com/62474292/99639367-da39b300-2a8a-11eb-9fce-bbcfa09b458d.JPG)

- who is this user like?
- Is this a house that people tend to rate highly? <br>
The preicted rating is a combination of both these factors.

#### Last problem = Infrastructure
How often and where will you compute the predicted ratings?
![streaming](https://user-images.githubusercontent.com/62474292/99650347-a36a9980-2a98-11eb-930b-fcf6de158c83.JPG)
**batch or streaming** 
- batch : don't need to update the rental recommendations every time a new rating appears in our system
- streaming : compute the rating that every user will give every house -> do it in a big data platform like Apache Hadoop

